# 消费模式
### 点对点消费模式
消息被消费后，queue不再有存储，所以消息消费者不可能消费到已经被消费的消息  
Queue支持存在多个消费者，但是对一个消息而言，只会有一个消费者可以消费

### 集群消费模式
特殊的点对点消费模式，一个消息只会被消费组中的一个消费者消费

### 广播消费模式
① 发布者将消息发布到topic中，同时有多个订阅者消费该消息  
② 发布到topic的消息会被所有订阅者消费  

# 消息处理模式
### 拉模式
消费者主动从消息中间件拉取消息

### 推模式
消息中间件主动将消息推送给消费者。Consumer向其关联的Queue注册了监听器，一旦发现有新的消息到来就会触发回调的执行，回调方法是Consumer去Queue
中拉取消息。而这些都是基于Consumer与Broker间的长连接的。长连接的维护是需要消耗系统资源的

### 两种处理模式比较
① 推模式更关注消息的实时性  
② 推模式直接从内存缓冲区中获取消息，能有效的提高消息的处理效率以及吞吐量  
③ 拉模式更关注消费者的消费能力，只有消费者主动去拉取消息才会去获取消息  

# 消息传输保证
一般消息中间件的消息传输保障分为三个层级  
① At most once：最多一次。消息可能会丢失，但绝不会重复传输  
② At least once：最少一次。消息绝不会丢失，但可能会重复传输  
③ Exactly once：恰好一次。每条消息肯定会被传输一次且仅传输一次

```
rabbitmq支持最少一次和最多一次，不支持恰好一次  
rocketmq支持最少一次  
```