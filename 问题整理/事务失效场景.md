# 访问权限问题
访问权限不是```public```，Spring则不会提供事务功能

# 方法用final修饰
方法被定义成final、static的，无法通过动态代理，变成事务方法

# 方法内部调用
① 在Service类中注入自己  
② 通过AopContext.currentProxy()获取代理对象

# 未被Spring管理

# 多线程调用
不在同一个线程中，获取到的数据库连接不一样，从而是不同的事务。

# 表不支持事务
```myisam```存储引擎不支持事务

# 自定义了回滚异常
Spring事务，默认情况下，只会回滚RuntimeException（运行时异常）和Error（错误），对于普通的Exception（非运行时异常），它不会回滚  

阿里巴巴开发者规范中，还是要求开发者重新指定该参数，建议一般情况下，将该参数设置成：```Exception```或```Throwable```

# 嵌套事务回滚多了
```java
// doOtherThing方法出现了异常，没有手动捕获，会继续往上抛，到外层add方法的代理方法中捕获了异常。所以，这种情况下是直接回滚了整个事务，不只回滚单个保存点
public class UserService {
    @Autowired
    private UserMapper userMapper;
    @Autowired
    private RoleService roleService;

    @Transactional
    public void add(UserModel userModel) throws Exception {
        userMapper.insertUser(userModel);
        roleService.doOtherThing();
    }
}

@Service
public class RoleService {
    @Transactional(propagation = Propagation.NESTED)
    public void doOtherThing() {
        System.out.println("保存role表数据");
    }
}
```
