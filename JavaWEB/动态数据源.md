![动态数据源切换原理](images/动态数据源切换原理.png)

# service方法上加@Transaction后切换数据源不生效
在service中开启事务，service中对其他数据源的操作只会使用开启事务的数据源，因为开启事务的数据源会被缓存下来，可以在DataSourceTransactionManager的doBegin()中看见那个txObject，
如果在一个事务内，就会复用connection，所以切换不了数据源



