更新数据：更新内存，写完redo log后，就返回给客户端，本次更新成功。
当内存数据页跟磁盘数据页内容不一致的时候，我们称这个内存页为“脏页”。内存数据写入到磁盘后，内存和磁盘上的数据页的内容就一致了，称为“干净页”。不论是脏页还是干净页，都在内存中。
引发刷脏页(flush)的条件：
①redo log日志写满，此时系统会停止所有更新操作，把checkpoing往前推进，redo留出空间可以继续写。此种情况应该尽量避免，因为出现这种情况的时候，整个系统就不能再接受更新了。
②系统内存不足，当需要新的内存页，而内存不够用的时候，就要淘汰一些数据页，空出内存给别的数据页使用。
InnoDB的策略是尽量使用内存，因此对于一个长时间运行的库来说，未被使用的页面很少。
而当要读入的数据页没有在内存的时候，就必须到缓冲池中申请一个数据页。这时候只能把最久不使用的数据页从内存中淘汰掉：如果要淘汰的是一个干净页，就直接释放出来复用；但如果是脏页呢，就必须将脏页先刷到磁盘，变成干净页后才能复用。
③mysql“空闲”的时候。
④mysql正常关闭的情况。