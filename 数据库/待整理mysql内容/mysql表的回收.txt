问题：简单地删除表数据达不到表空间回收的效果。
InnoDB表包含两部分：表结构定义和数据。
表数据既可以存在共享表空间里，也可以是单独的文件。推荐的做法是将参数innodb_file_per_table设置为on，因为一个表单独存储为一个文件更容易管理，而且在你不需要这个表的时候，通过drop table命令，系统就会直接删除这个文件，而如果是放在共享表空间中，即使表删掉了，空间也是不会回收的。
基于推荐做法，实际场景中，更多的删除数据的场景是删除某些行，此时会存在的问题就是表中的数据被删除了，但是表空间没有被回收。
delete命令其实只是把记录的位置，或者数据页标记为了“可复用”，磁盘文件的大小是不会变的。也就是说，通过delete命令是不能回收表空间的。
经过大量增删改的表，都是可能存在空洞的。所以，如果能够把这些空洞去掉，就能达到收缩表空间的目的，而重建表，就可以达到这样的目的。使用alter table A engine=InnoDB命令来重建表，mysql会自动完成转存数据、交换表名、删除旧表的操作。


