# 1、概念
索引是帮助Mysql高效获取数据的数据结构。简单理解为：***排好序的快速查找数据结构***。
## 哪些情况下需要创建索引：
①主键自动建立唯一索引
②频繁作为查询条件的字段应该建立索引
③查询中排序的字段，排序字段若通过索引去访问将大大提高排序的速度；统计或者分组字段

## 哪些情况下不需要创建索引：
①表记录太少
②经常增删改的表
③where条件里用不到的字段不创建索引
④数据重复且分布平均的表字段。因此应该只为经常查询和经常排序的数据列建立索引。

# 2 MySQL Query Optimizer
1、MySQL中有专门负责优化SELECT语句的优化器模块，主要功能：通过计算分析系统中收集到的统计信息，为客户端请求的Query提供
他认为最优的执行计划（他认为最优的数据检索方式，但不见得是DBA认为最优的，这部分最耗费时间）
2、当客户端向MySQL请求一条Query，命令解析器模块完成请求分类，区别出是SELECT并转发给MySQL Query Optimizer时，
MySQL Query Optimizer首先会对整条Query进行优化，处理掉一些常量表达式的预算，直接换算成常量值。并对Query中的查询
条件进行简化和转换，如去掉一些无用或显而易见的条件、结构调整等。

# Explain
使用explain关键字可以模拟优化器执行SQL语句，从而知道MySQL是如何处理你的SQL语句的。
即能分析你的查询语句或结构的性能瓶颈。
## 能干嘛？
表的读取顺序、数据读取操作的操作类型、哪些索引可以使用、哪些索引被实际使用、表之间的引用、每张表有多少行被优化器查询
## 各字段解释
①id：select查询的序列号，包含一组数字，表示查询中执行select子句或操作表的顺序；
②select_type：查询的类型，主要用于区别普通查询、联合查询、子查询等复杂查询
③table：显示这一行的数据是关于哪张表的
④type：显示查询使用了何种类型；从最好到最差依次是：system>const>eq_ref>ref>range>index>All
⑤possible_keys：显示可能应用在这张表中的索引，一个或多个。查询涉及的字段上若存在索引，则该索引将被列出，但不一定
被查询实际使用。
⑥key：实际使用的索引。如果为null则没有使用索引。查询中若使用了覆盖索引，则索引和查询的select字段重叠。
⑦key_len：表示索引中使用的字节数，可通过该列计算查询中使用的索引的长度。在不损失精确性的情况下，长度越短越好，
key_len显示的值为索引最大可能长度，并非实际使用长度，即key_len是根据表定义计算而得，不是通过表内检索出的。
⑧red：显示索引哪一列被使用了，如果可能的话，是一个常数。那些列或常量被用于查找索引列上的值。
⑨rows：根据表统计信息及索引选用情况，大致估算出找到所需记录所需要读取的行数。
⑩Extra：
Using fileSort、Using temporary、Using index、Using where、Using join buffer、impossible where、select tables optimized away、distin`ct




